{"version":3,"file":"IW3cTraceState.js","sourceRoot":"","sources":["IW3cTraceState.ts"],"names":[],"mappings":"AAAA,4DAA4D;AAC5D,kCAAkC","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\n\r\n/**\r\n * Represents a mutable [W3C trace state list](https://www.w3.org/TR/trace-context/#tracestate-header), this is a\r\n * list of key/value pairs that are used to pass trace state information between different tracing systems. The\r\n * list is ordered and the order is important as it determines the processing order.\r\n *\r\n * Importantly instances of this type are mutable, change made to an instance via {@link IW3cTraceState.set} or\r\n * {@link IW3cTraceState.del} will be reflected on the instance and any child instances that use it as a parent.\r\n * However, any parent instance associated with an instance will not be modified by operations on that particular\r\n * instance.\r\n *\r\n * @since 3.4.0\r\n */\r\nexport interface IW3cTraceState {\r\n    /**\r\n     * Returns a readonly array of the current keys associated with the trace state, keys are returned in the\r\n     * required processing order and if this instance has a parent the keys from the parent will be included\r\n     * unless they have been removed (deleted) from the child instance.\r\n     * Once created any modifications to the parent will also be reflected in the child, this is different from\r\n     * the OpenTelemetry implementation which creates a new instance for each call.\r\n     * @returns A readonly array of the current keys associated with the trace state\r\n     */\r\n    readonly keys: string[];\r\n\r\n    /**\r\n     * Check if the trace state list is empty, meaning it has no keys or values.\r\n     * This exists to allow for quick checks without needing to create a new array of keys.\r\n     * @since 3.4.0\r\n     * @returns true if the trace state list is empty, false otherwise\r\n     */\r\n    readonly isEmpty: boolean;\r\n\r\n    /**\r\n     * Get the value for the specified key that is associated with this instance, either directly or from the parent.\r\n     * @param key - The key to lookup\r\n     * @returns The value for the key, or undefined if not found\r\n     */\r\n    get(key: string): string | undefined;\r\n\r\n    /**\r\n     * Set the value for the specified key for this instance, returning its new location within the list.\r\n     * - 0 is the front of the list\r\n     * - -1 not set because the key/value pair is invalid\r\n     * If the key already exists it will be removed from its current location and added to the front of the list. And\r\n     * if the key was in the parent this will override the value inherited from the parent, more importantly it will\r\n     * not modify the parent value.\r\n     * @param key - The key to set\r\n     * @param value - The value to set\r\n     * @returns 0 if successful, -1 if not\r\n     */\r\n    set(key: string, value: string): number;\r\n\r\n    /**\r\n     * Delete the specified key from this instance, if the key was in the parent it will be removed (hidden) from\r\n     * this instance but will still be available directly from the parent.\r\n     * @param key - The key to delete\r\n     */\r\n    del(key: string): void;\r\n\r\n    /**\r\n     * Format the trace state list into a strings where each string can be used as a header value.\r\n     * This will return an empty array if the trace state list is empty.\r\n     * @param maxHeaders - The maximum number of entries to include in the output, once the limit is reached no more entries will be included\r\n     * @param maxKeys - The maximum number of keys to include in the output, once the limit is reached no more keys will be included\r\n     * @param maxLen - The maximum length of each header value, once the limit is reached a new header value will be created\r\n     * @returns An array of strings that can be used for the header values, if the trace state list is empty an empty array will be returned\r\n     */\r\n    hdrs(maxHeaders?: number, maxKeys?: number, maxLen?: number): string[];\r\n\r\n    /**\r\n     * Create a new instance of IW3cTraceState which is a child of this instance, meaning it will inherit the keys\r\n     * and values from this instance but any changes made to the child will not affect this instance.\r\n     * @returns A new instance of IW3cTraceState which is a child of this instance\r\n     */\r\n    child(): IW3cTraceState;\r\n}\r\n"]}