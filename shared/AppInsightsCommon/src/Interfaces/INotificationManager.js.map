{"version":3,"file":"INotificationManager.js","sourceRoot":"","sources":["INotificationManager.ts"],"names":[],"mappings":"","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { IPromise } from \"@nevware21/ts-async\";\r\nimport { INotificationListener } from \"./INotificationListener\";\r\nimport { IPerfEvent } from \"./IPerfEvent\";\r\nimport { ITelemetryItem } from \"./ITelemetryItem\";\r\nimport { IPayloadData } from \"./IXHROverride\";\r\n\r\n/**\r\n * Class to manage sending notifications to all the listeners.\r\n */\r\nexport interface INotificationManager {\r\n    listeners: INotificationListener[];\r\n\r\n    /**\r\n     * Adds a notification listener.\r\n     * @param listener - The notification listener to be added.\r\n     */\r\n    addNotificationListener(listener: INotificationListener): void;\r\n\r\n    /**\r\n     * Removes all instances of the listener.\r\n     * @param listener - AWTNotificationListener to remove.\r\n     */\r\n    removeNotificationListener(listener: INotificationListener): void;\r\n\r\n    /**\r\n     * Notification for events sent.\r\n     * @param events - The array of events that have been sent.\r\n     */\r\n    eventsSent(events: ITelemetryItem[]): void;\r\n\r\n    /**\r\n     * Notification for events being discarded.\r\n     * @param events - The array of events that have been discarded by the SDK.\r\n     * @param reason - The reason for which the SDK discarded the events. The EventsDiscardedReason\r\n     * constant should be used to check the different values.\r\n     */\r\n    eventsDiscarded(events: ITelemetryItem[], reason: number): void;\r\n\r\n    /**\r\n     * [Optional] A function called when the events have been requested to be sent to the sever.\r\n     * @param sendReason - The reason why the event batch is being sent.\r\n     * @param isAsync - A flag which identifies whether the requests are being sent in an async or sync manner.\r\n     */\r\n    eventsSendRequest?(sendReason: number, isAsync: boolean): void;\r\n\r\n    /**\r\n     * [Optional] This event is sent if you have enabled perf events, they are primarily used to track internal performance testing and debugging\r\n     * the event can be displayed via the debug plugin extension.\r\n     * @param perfEvent - The perf event details\r\n     */\r\n    perfEvent?(perfEvent: IPerfEvent): void;\r\n\r\n    /**\r\n     * Unload and remove any state that this INotificationManager may be holding, this is generally called when the\r\n     * owning SDK is being unloaded.\r\n     * @param isAsync - Can the unload be performed asynchronously (default)\r\n     * @returns If the unload occurs synchronously then nothing should be returned, if happening asynchronously then\r\n     * the function should return an [IPromise](https://nevware21.github.io/ts-async/typedoc/interfaces/IPromise.html)\r\n     * / Promise to allow any listeners to wait for the operation to complete.\r\n     */\r\n    unload?(isAsync?: boolean): void | IPromise<void>;\r\n\r\n    /**\r\n     * [Optional] A function called when the offline events have been stored to the persistent storage\r\n     * @param events - items that are stored in the persistent storage\r\n     * @since v3.1.1\r\n     */\r\n    offlineEventsStored?(events: ITelemetryItem[]): void;\r\n\r\n    /**\r\n     * [Optional] A function called when the offline events have been sent from the persistent storage\r\n     * @param batch - payload data that is sent from the persistent storage\r\n     * @since v3.1.1\r\n     */\r\n    offlineBatchSent?(batch: IPayloadData): void;\r\n\r\n    /**\r\n     * [Optional] A function called when the offline events have been dropped from the persistent storage\r\n     * @param cnt - count of batches dropped\r\n     * @param reason - the reason why the batches is dropped\r\n     * @since v3.1.1\r\n     */\r\n    offlineBatchDrop?(cnt: number, reason?: number): void;\r\n}\r\n"]}