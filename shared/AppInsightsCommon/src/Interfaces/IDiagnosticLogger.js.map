{"version":3,"file":"IDiagnosticLogger.js","sourceRoot":"","sources":["IDiagnosticLogger.ts"],"names":[],"mappings":"","sourcesContent":["// Copyright (c) Microsoft Corporation. All rights reserved.\r\n// Licensed under the MIT License.\r\nimport { IPromise } from \"@nevware21/ts-async\";\r\nimport { LoggingSeverity, _InternalMessageId } from \"../Enums/LoggingEnums\";\r\nimport { ITelemetryUpdateState } from \"./ITelemetryUpdateState\";\r\n\r\nexport interface IInternalLogMessage {\r\n    message: string;\r\n    messageId: _InternalMessageId;\r\n}\r\n\r\nexport interface IDiagnosticLogger {\r\n\r\n    /**\r\n     * 0: OFF\r\n     * 1: only critical (default)\r\n     * 2: critical + info\r\n     */\r\n    consoleLoggingLevel: () => number;\r\n\r\n    /**\r\n     * The internal logging queue\r\n     */\r\n    queue: IInternalLogMessage[];\r\n\r\n    /**\r\n     * This method will throw exceptions in debug mode or attempt to log the error as a console warning.\r\n     * @param severity - The severity of the log message\r\n     * @param message - The log message.\r\n     */\r\n    throwInternal(severity: LoggingSeverity, msgId: _InternalMessageId, msg: string, properties?: Object, isUserAct?: boolean): void;\r\n\r\n    /**\r\n     * This will write a debug message to the console if possible\r\n     * @param message - The debug message\r\n     */\r\n    debugToConsole?(message: string): void\r\n\r\n    /**\r\n     * This will write a warning to the console if possible\r\n     * @param message - The warning message\r\n     */\r\n    warnToConsole(message: string): void;\r\n\r\n    /**\r\n     * This will write an error to the console if possible.\r\n     * Provided by the default DiagnosticLogger instance, and internally the SDK will fall back to warnToConsole, however,\r\n     * direct callers MUST check for its existence on the logger as you can provide your own IDiagnosticLogger instance.\r\n     * @param message - The error message\r\n     */\r\n    errorToConsole?(message: string): void;\r\n\r\n    /**\r\n     * Resets the internal message count\r\n     */\r\n    resetInternalMessageCount(): void;\r\n\r\n    /**\r\n     * Logs a message to the internal queue.\r\n     * @param severity - The severity of the log message\r\n     * @param message - The message to log.\r\n     */\r\n    logInternalMessage?(severity: LoggingSeverity, message: IInternalLogMessage): void;\r\n\r\n    /**\r\n     * Optional Callback hook to allow the diagnostic logger to update it's configuration\r\n     * @param updateState - The new configuration state to apply to the diagnostic logger\r\n     */\r\n    update?(updateState: ITelemetryUpdateState): void;\r\n\r\n    /**\r\n     * Unload and remove any state that this IDiagnosticLogger may be holding, this is generally called when the\r\n     * owning SDK is being unloaded.\r\n     * @param isAsync - Can the unload be performed asynchronously (default)\r\n     * @returns If the unload occurs synchronously then nothing should be returned, if happening asynchronously then\r\n     * the function should return an [IPromise](https://nevware21.github.io/ts-async/typedoc/interfaces/IPromise.html)\r\n     * / Promise to allow any listeners to wait for the operation to complete.\r\n     */\r\n    unload?(isAsync?: boolean): void | IPromise<void>;\r\n}\r\n"]}